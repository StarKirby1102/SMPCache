# SMPCache

Privacy-preserving collaborative data analysis is a popular research direction in recent years.  Among all such analysis tasks, privacy-preserving SQL queries on multi-party databases are of particular industrial interest. Although the privacy concern can be addressed by many cryptographic tools, such as secure multi-party computation (MPC), the efficiency of executing such SQL queries is far from satisfactory, especially for high-volume databases. In particular, existing MPC-based solutions treat each SQL query as an isolated task and launch it from scratch,  in spite of the nature that many SQL queries are done regularly and somewhat overlap in their functionalities. In this work, we are motivated to exploit this nature to improve the efficiency of MPC-based privacy-preserving SQL queries. We introduce a cache-like optimization mechanism. To ensure a higher cache hit rate and reduce redundant MPC operations, we present a cache structure different from that of plain databases and design a set of cache rules. Our optimization mechanism, SMPCache, can be built upon secret-sharing-based MPC frameworks, which attract much attention from the industry. To demonstrate the utility of SMPCache, we implement it on Rosetta, an open-source MPC library, and use real-world datasets to launch extensive experiments on some basic SQL operators (e.g., Filter, Order-by, Aggregates, and Join) and some representative composite SQL queries. To give a data point, we note that SMPCache can achieve up to 3536x efficiency improvement on the TPC-DS dataset at a moderate storage cost.

Our work is based on rosetta MPC framework, so before running our project, you should build the rosetta environment.
